<!DOCTYPE html>

<html>
    <head>
        <title>To-do List</title>
    </head>
    <style>
        body {
            background-color: rgb(144, 22, 214);
        }
        .full-form {
            margin:auto;
            width: 20%;
            padding: 110px;
        }
        .input-class{
            padding: 10px;
        }
        .input-box{
            padding: 10px;
            border-radius: 5px;
            width: 300px;
        }
        button{
            padding: 10px;
            border-radius: 5px;
            background-color: rgb(255, 255, 255);
        }
        label,h1,h3,h5,li {
            color: white;
            font-family: sans-serif;
        }
        .intro-button{
            width: 176px;
        }
        .display-none {
            display: none;
        }
        .require {
            border: 3px solid red ;
        }
        .required-all-fields{
            color:white
        }

        /*dashboard*/
        .side-bar {
            height: 100%;
            width: 160px;
            position: fixed;
            z-index: 1;
            top: 0;
            left: 0;
            background-color: rgb(255, 255, 255);
            padding-top: 100px;
        }
        .side-bar a {
            padding: 15px 8px 6px 16px;
            text-decoration: none;
            font-size: 15px;
            color: #818181;
            display: block;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        #ToDoList-Link, #AccountSettings-Link {
            color: #818181 !important;
            border: none !important; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
            display: block !important;
            cursor: pointer;
        }
        a:hover{
            color: black;
        }
        .list > li{
            color: white;
        }
    </style>
    <body>
        <div class = "full-form">

            

            <form id = "signin" class="display-none">
                <div class="input-class">
                    <h1>Sign Up</h1>
                </div>
                <div class="input-class">
                    <input type = "text" placeholder="first name" class ="input-box"/>
                </div>
                <div class="input-class">
                    <input type = "text" placeholder="last name"class ="input-box"/>
                </div>
                <div class="input-class">
                    <input type = "email" placeholder="email"class ="input-box"/>
                </div>
                <div  class="input-class">
                    <input type = "password" placeholder="password "class ="input-box"/>
                </div>
                <div  class="input-class required-all-fields display-none">
                    <p>All fields are required</p>
                </div>
                <div class="input-class">
                    <input type="checkbox" id="TermOfUse" name="TermOfUse">
                    <label for="TermOfUse" >I agree to the Terms of Use</label>
                </div>
            </form>

            <form id = "login" class="display-none">
                <div class="input-class">
                    <h1>Login In</h1>
                </div>
                <div class="input-class">
                    <input type = "email" placeholder="email"class ="input-box"/>
                </div>
                <div  class="input-class">
                    <input type = "password" placeholder="password "class ="input-box"/>
                </div>
                <div  class="input-class required-all-fields display-none">
                    <p>All fields are required</p>
                </div>
                <div class="input-class">
                    <input type="checkbox" id="TermOfUseLogin" name="TermOfUse">
                    <label for="TermOfUseLogin">I agree to the Terms of Use</label>
                </div>
            </form>
            
            <div class="input-class form-button">
                <button class="login-button display-none" id="LoginButton">Log In</button>
                <button class="signin-button display-none" id="SignUpButton">Sign Up</button>
                <button class="signin-button display-none" id="BackButton">Back</button>
            </div>


            <div class="input-class intro">
                <h1>Application Form </h1>
                <button class="intro-button">Sign Up</button>
                <button class="intro-button">Log In</button>
            </div>

        
            <div id="dashboardID" class="display-none">

                <div id="no-list" class = "input-class">
                    <h1>You have no to-do List</h1>
                    <button>Create New to-do List button</button>
                </div>
    
                <div id="create-list" class="input-class">
                    <input type="text" placeholder="Title" class="input-box" maxlength="40">
                    <h3></h3>
                    <h5></h5>
                    <ul class="list">
                        
                    </ul>
                    <input type="text" placeholder="List" class="input-box">
                    <input type="text" placeholder="List" class="input-box">
                    <button id="addTitleOrList">Add Title</button>
                    <button id="submit-todolist">Submit</button> 
                    
                    <button id="update-add-todolist">Add List Update</button> 
                    <button id="update-submit-todolist">Submit Update</button> 
                </div>

                <div id="todo-list">
                    <h3>You Have sheet To do list</h3>
                        <ol id="all-list">
                            
                        </ol>
                        <button id ="add-more"> Add </button>
                        <button id ="update-list"> Update</button>
                        <button id ="view-list"> View</button>
                        <button id ="delete-list"> Delete</button>

                        <input type="text" id = "TitleToUpdate"class="input-box display-none" placeholder="Enter Title to Edit">
                        <button id ="Proceed-update" class="display-none" > Proceed</button>

                        
                        <input type="text" id = "TitleToView"class="input-box display-none" placeholder="Enter Title to View">
                        <button id ="Proceed-view" class="display-none" > Proceed</button>

                        
                        <input type="text" id = "TitleToDelete"class="input-box display-none" placeholder="Enter Title to Delete">
                        <button id ="Proceed-delete" class="display-none" > Proceed</button>

                </div>

                <form id = "Account-Settings" class="">
                    <div class="input-class">
                        <input type = "text" placeholder="first name" class ="input-box"/>
                    </div>
                    <div class="input-class">
                        <input type = "text" placeholder="last name"class ="input-box"/>
                    </div>
                    <div class="input-class">
                        <input type = "email" placeholder="email"class ="input-box"/>
                    </div>
                    <div  class="input-class">
                        <input type = "password" placeholder="password "class ="input-box"/>
                    </div>
                    <div  class="input-class required-all-fields display-none">
                        <p>All fields are required</p>
                    </div>
                    <div class="input-class">
                        <button id ="update-btn"> Update Account</button>
                    </div>
                </form>

                <div id="view">
                    <h3></h3>
                    <ul id="view-now">
                      
                    </ul>
                </div>


                <!--SIDE BAR-->
                <div class="side-bar">
                    <button id ="ToDoList-Link" > To-Do Lists</button>
                    <button id="AccountSettings-Link" >Account Settings </button>
                    <a href="">Log Out</a>
                </div>
            </div>
            <h5></h5>
        </div>
    </body>
    <script>
       
            const Intro = document.querySelector('body > div > div.input-class.intro'); //intro
            const SignIntro = document.querySelector('body > div > div.input-class.intro > button:nth-child(2)'); //signup button intro
            const LogIntro = document.querySelector('body > div > div.input-class.intro > button:nth-child(3)'); //login button intro

            const SingInForm = document.getElementById('signin'); //signin form
            const LogInForm = document.getElementById('login'); //login form

            const LoginButton = document.getElementById('LoginButton'); //buttons for login
            const SignInButton = document.getElementById('SignUpButton'); //buttons for signin
            const BackButton = document.getElementById('BackButton'); //buttons for back

            const dashboard = document.getElementById("dashboardID");

            let localDB = window.localStorage;
            let sessionDB = window.sessionStorage;

            SignIntro.addEventListener("click",()=>{
                ViewSignIn()
            })
            function ViewSignIn(){
                SingInForm.classList.remove('display-none')
                SignInButton.classList.remove('display-none')
                BackButton.classList.remove('display-none')
                Intro.classList.add('display-none')
            }
            
            LogIntro.addEventListener("click",()=>{
                ViewLogin()
            })
            function ViewLogin(){
                LogInForm.classList.remove('display-none')
                LoginButton.classList.remove('display-none')
                BackButton.classList.remove('display-none')
                Intro.classList.add('display-none')
            }

            BackButton.addEventListener("click",()=>{
                AfterBackButon();
            })

            function AfterBackButon(){
                SingInForm.classList.add('display-none')
                SignInButton.classList.add('display-none')
                LogInForm.classList.add('display-none')
                LoginButton.classList.add('display-none')
                BackButton.classList.add('display-none')
                Intro.classList.remove('display-none')
                FirstName.classList.remove("require")
                LastName.classList.remove("require")
                Email.classList.remove("require")
                Password.classList.remove("require")
                EmailLoginField.classList.remove("require")
                RequireLabelLogin.innerHTML = ""
                PasswordLoginField.classList.remove("require")
                RequireLabelLogin.innerHTML = ""
                TextLabel.innerHTML = ""
                FirstName.value = "";
                LastName.value = "";
                Email.value = "";
                Password.value = "";
                Terms.checked = false;    

                EmailLoginField.value = "";
                PasswordLoginField.value = "";
                TermsLogin.checked = false
            }



            SignInButton.addEventListener("click",SignIn);
            let FirstName = document.querySelector('#signin > div:nth-child(2) > input')
            let LastName = document.querySelector('#signin > div:nth-child(3) > input')
            let Email = document.querySelector('#signin > div:nth-child(4) > input')
            let Password = document.querySelector('#signin > div:nth-child(5) > input')
            let Terms = document.querySelector('#TermOfUse')
            let TextLabel = document.querySelector('#signin > div.input-class.required-all-fields.display-none')

            FirstName.addEventListener("keyup",()=>{
                FirstName.classList.remove("require")
                RemoveRequireText()
            })
            LastName.addEventListener("keyup",()=>{
                LastName.classList.remove("require")
                RemoveRequireText()
            })
            Email.addEventListener("keyup",()=>{
                Email.classList.remove("require")
                RemoveRequireText()
            })
            Password.addEventListener("keyup",()=>{
                Password.classList.remove("require")
                RemoveRequireText()
            })
            

            function SignIn(){
                let Fields= [FirstName,LastName,Email,Password,Terms]
                let check = 0
                for(var i in Fields){
                    if(Fields[i].value === ""){
                        Fields[i].classList.add("require")
                        TextLabel.classList.remove('display-none')
                        check = 1;
                    }
                }
                if(check === 0 ){
                    TextLabel.classList.remove('display-none')
                    if(Terms.checked  === true){
                        SubmitSignIn()
                    }else{
                        TextLabel.innerHTML = "<p>Terms of Use is required</p>"
                    }
                }
            }
           
            function RemoveRequireText(){
                let Fields= [FirstName,LastName,Email,Password,Terms]
                var CheckField = false;
                for(var i in Fields){
                    if(Fields[i].value === ""){
                        CheckField = true
                    }
                }
                if(CheckField === false){
                    if(Terms.checked  === false){
                        TextLabel.innerHTML = "<p>Terms of Use is required</p>"
                    }else{
                        TextLabel.innerHTML = "<p>Looks Good!</p>"
                    }
                }else if (CheckField === true){
                    TextLabel.innerHTML = "<p>All fields are required</p>"
                }
                console.log(CheckField)
            }

            function SubmitSignIn(){
                let Data = {
                    "FirstName":FirstName.value,
                    "LastName":LastName.value,
                    "Email":Email.value,
                    "Password":Password.value,
                    "Terms":Terms.checked,
                    "TodoList": []
                }
                console.log(Data)
                if(localDB.hasOwnProperty(Data.Email) === false){
                    localDB.setItem(Data.Email,JSON.stringify(Data))
                    location.reload()
                    sessionDB.setItem("user",Data.Email);
                }else{
                    TextLabel.innerHTML = "<p>Email address already exist!</p>"
                }
            }
            
            const EmailLoginField = document.querySelector('#login > div:nth-child(2) > input');
            const PasswordLoginField = document.querySelector('#login > div:nth-child(3) > input');
            const TermsLogin = document.querySelector('#TermOfUseLogin');
            const RequireLabelLogin = document.querySelector('#login > div.input-class.required-all-fields.display-none');

         
            EmailLoginField.addEventListener("keyup",()=>{
                EmailLoginField.classList.remove("require")
                RequireLabelLogin.innerHTML = ""
            })

            PasswordLoginField.addEventListener("keyup",()=>{
                PasswordLoginField.classList.remove("require")
                RequireLabelLogin.innerHTML = ""
            })

            TermsLogin.addEventListener("click",()=>{
                if(EmailLoginField.value === "" || PasswordLoginField.value === ""){
                    Validate()
                }
            })

            LoginButton.addEventListener("click",LoginSubmit)

            function LoginSubmit(){
                if(Validate() === true){
                    console.log(localDB.hasOwnProperty(EmailLoginField.value));
                    if(localDB.hasOwnProperty(EmailLoginField.value)){
                        let getUser = localDB.getItem(EmailLoginField.value)
                        let Data = JSON.parse(getUser)
                        console.log(Data)
                        console.log(Data.Password)
                        console.log(PasswordLoginField.value)
                        if(Data.Password === PasswordLoginField.value){

                            RequireLabelLogin.innerHTML = "<p>Login Here!</p>"
                            sessionDB.setItem("user",Data.Email);
                            location.reload()
                            SessionUser(Data.Email)
                            
                        }else{
                            RequireLabelLogin.innerHTML = "<p>Wrong Password!</p>"
                        }
                    }else{
                        RequireLabelLogin.innerHTML = "<p>Cannot find email address!</p>"
                    }
                }
            }
               
            function Validate(){
                if(EmailLoginField.value === "" || PasswordLoginField.value === ""){
                    if(EmailLoginField.value === ""){
                        EmailLoginField.classList.add("require")
                        RequireLabelLogin.classList.remove("display-none")
                        RequireLabelLogin.innerHTML = "<p>All fields are required</p>"
                    }
                    if (PasswordLoginField.value === ""){
                        PasswordLoginField.classList.add("require");
                        RequireLabelLogin.classList.remove("display-none")
                        RequireLabelLogin.innerHTML = "<p>All fields are required</p>"
                    }
                    return false
                }else{
                    if(TermsLogin.checked === true){
                        RequireLabelLogin.innerHTML = "<p>Looks Good!</p>"
                        RequireLabelLogin.classList.remove("display-none")
                        return true
                    }else{
                        RequireLabelLogin.classList.remove("display-none")
                        RequireLabelLogin.innerHTML = "<p>Terms of Use is required</p>"
                        return false
                    }
                }
            }

            const getCreateList = document.getElementById("create-list");   

            var GetUserSession = sessionDB.getItem("user") 
            console.log(GetUserSession)

            let GetSessionData = localDB.getItem(GetUserSession);
            let LogedInUser = JSON.parse(GetSessionData)


            const LogOut = document.querySelector("#dashboardID > div.side-bar > a:nth-child(3)");
            LogOut.addEventListener("click",()=>{
                sessionDB.removeItem("user");
            })

            const CreateTodoListBtn = document.querySelector("#no-list > button");
            const NoList = document.querySelector("#no-list");
            
            const ListTitleInput = document.querySelector("#create-list > input:nth-child(1)");
            const ListInput = document.querySelector("#create-list > input:nth-child(5)");
            const AddList  = document.querySelector("#addTitleOrList");
            const SubmitListBTN = document.querySelector("#submit-todolist");
            const UL = document.querySelector("#create-list > ul");
            const TitleList = document.querySelector("#create-list > h3");
            const ListLimit = document.querySelector("body > div > h5");
            const NewListData = [];
            
            CreateTodoListBtn.addEventListener("click",CreateTodoListForm)

            function CreateTodoListForm() {
                NoList.classList.add("display-none")
                getCreateList.classList.remove("display-none");
                ListInput.classList.add("display-none");
                SubmitListBTN.classList.add("display-none");
                ListInputUpdate.classList.add("display-none")
                getaddUpdate.classList.add("display-none");
                getBtnUpdateSubmit.classList.add("display-none");
            }

            ListTitleInput.addEventListener("keyup",()=>{
                TitleList.innerText = ListTitleInput.value
                if(CheckIfExist(NewListData,TitleList.innerText)){
                    console.log("title already added");
                    ListLimit.innerText = "title already added" 
                    AddList.classList.add("display-none");
                }else{
                    ListLimit.innerText = "" 
                    AddList.classList.remove("display-none");
                }
                
            })

            AddList.addEventListener("click",ListAdd);

            
            function ListAdd () { 
                if(TitleList.innerText === ""){ //dito
                    
                    ListTitleInput.classList.add("require");
                }else{
                    AddList.innerText="Add List"
                    ListTitleInput.classList.add("display-none");
                    ListInput.classList.remove("display-none");
                    SubmitListBTN.classList.remove("display-none");
                    ListLimit.innerText = ""

                    if(ListInput.value === ""){
                        if(UL.childElementCount !== 0 ) ListLimit.innerText = "Cannot add empty list" 
                    }else{

                        if(CheckIfExist(NewListData,TitleList.innerText)){
                            ListLimit.innerText = "title already added" 
                        }else{
                            var createLI = document.createElement("li");
                            createLI.innerText = ListInput.value;
                            NewListData.push(createLI.innerText)
                            UL.appendChild(createLI)
                            ListInput.value=""
                            ListTitleInput.value === "";
                        }
                        console.log(NewListData)

                    }
                }
                
            }
            function CheckIfExist(NewListData,title) {
                var CheckTitle = localDB.getItem(GetUserSession) // line 443 Referrence
                var data = JSON.parse(CheckTitle)

                for(var i in data.TodoList){
                    if(data.TodoList[i][0].title === ListTitleInput.value){
                        return true
                    }
                }
                return false;
            }

            SubmitListBTN.addEventListener("click",SubmitList)

            function SubmitList(){
                if(UL.childElementCount !== 0 ){
                    ListLimit.innerText = ""
                    console.log("shet",NewListData);
                    NewListData.unshift({title:ListTitleInput.value})
                    LogedInUser.TodoList.push(NewListData);
                    localDB.setItem(GetUserSession,JSON.stringify(LogedInUser))
                    location.reload();
                }else{
                    ListLimit.innerText = "Cannot submit empty List"
                }
                
            }

            
            var ViewListForm = document.getElementById("todo-list");
            //CHECK IF LIST IS EMPTY 
            /**--------------------------------------------------------**/
            if(LogedInUser.TodoList.length === 0){
                getCreateList.classList.add("display-none")
                ViewListForm.classList.add("display-none")
            }
            /**--------------------------------------------------------**/
         

           
            //LIST CODES 
            /**--------------------------------------------------------**/
            function ViewList(){
                console.log(LogedInUser.TodoList);
                NoList.classList.add("display-none");
                getCreateList.classList.add("display-none")
                let listCounts = document.querySelector("#todo-list > h3");
                let AllList = document.getElementById("all-list");
                listCounts.innerText = `These are your title for your list`  
                for(var i in LogedInUser.TodoList){
                    AllList.appendChild(CreateElementLI(LogedInUser.TodoList[i][0].title))
                }
            }
            function CreateElementLI (text){
                
                var btn = document.createElement("button")
                btn.textContent = text

                var li = document.createElement("li")
                li.textContent = text 
                
                return li
            }
            
            //------UPDATE LIST CODE START COMMENT------///
            let UpdateListBtn = document.getElementById("update-list");
            let inputUpdate = document.getElementById("TitleToUpdate")
            let submitUpdate = document.getElementById("Proceed-update")
            
            UpdateListBtn.addEventListener("click",()=>{
                inputUpdate.classList.remove("display-none");
            })

            inputUpdate.addEventListener("keyup",()=>{
                var CheckTitle = localDB.getItem(GetUserSession) // line 443 Referrence
                var data = JSON.parse(CheckTitle)

                var titleID = []
                for(var i in data.TodoList){
                    titleID.push(data.TodoList[i][0].title)
                    if(titleID.includes(inputUpdate.value)){
                        submitUpdate.classList.remove("display-none");
                    }else{
                        submitUpdate.classList.add("display-none");
                    }
                }
            })
            let getBtnUpdateSubmit = document.getElementById("update-submit-todolist");
            let getaddUpdate = document.getElementById("update-add-todolist");
            
            const ListInputUpdate = document.querySelector("#create-list > input:nth-child(6)");
            submitUpdate.addEventListener("click",()=>{
                ViewListForm.classList.add("display-none");

                NoList.classList.add("display-none")
                getCreateList.classList.remove("display-none");
                ListInput.classList.add("display-none");
                ListTitleInput.classList.add("display-none");
                AddList.classList.add("display-none");
                SubmitListBTN.classList.add("display-none");

                ListInputUpdate.classList.remove("display-none");
                getaddUpdate.classList.remove("display-none");
                getBtnUpdateSubmit.classList.remove("display-none");
                TitleList.innerText = inputUpdate.value
            })
            let updateData = []

            getaddUpdate.addEventListener("click",()=>{
                var createLI = document.createElement("li");
                createLI.innerText = ListInputUpdate.value;
                updateData.push(createLI.innerText)
                UL.appendChild(createLI)
                ListInputUpdate.value= "";
            })

            getBtnUpdateSubmit.addEventListener("click",()=>{
                console.log(TitleList.innerText)
                console.log(updateData)
                for(var i in LogedInUser.TodoList){
                    if(LogedInUser.TodoList[i][0].title === TitleList.innerText){
                        updateData.unshift({title:TitleList.innerText})
                        console.log(updateData);
                        LogedInUser.TodoList[i] = []
                        LogedInUser.TodoList[i] = updateData
                        console.log("new data =>",LogedInUser.TodoList[i])
                        console.log("should be match with =>",updateData);
                        localDB.setItem(GetUserSession,JSON.stringify(LogedInUser))
                        location.reload()
                    }
                }
            })
            console.log(updateData)
            //------UPDATE LIST CODE END COMMENT------///
            
            //---------VIEW LIST START-----------//

            let getViewButton = document.getElementById("view-list")
            let inputToView = document.getElementById("TitleToView");
            let getProceedView = document.getElementById("Proceed-view");

            let viewForm = document.getElementById("view");
            let viewFormList = document.getElementById("view-now")
            let getTitleAppend = document.querySelector("#view > h3");


            getViewButton.addEventListener("click",()=>{

                inputToView.classList.remove("display-none");

            })
            var Title_Match;
            inputToView.addEventListener("keyup",()=>{
                var CheckTitle = localDB.getItem(GetUserSession) // line 443 Referrence
                var data = JSON.parse(CheckTitle)
                var titleID = []
                for(var i in data.TodoList){
                    titleID.push(data.TodoList[i][0].title)
                    if(titleID.includes(inputToView.value)){
                        Title_Match = inputToView.value
                        getProceedView.classList.remove("display-none");
                    }else{
                        getProceedView.classList.add("display-none");
                        viewFormList.innerHTML = "";
                        getTitleAppend.innerText= "";
                    }
                }
            })

            getProceedView.addEventListener("click",()=>{
                viewForm.classList.remove("display-none")
                viewFormList.classList.remove("display-none")
                getTitleAppend.innerText = Title_Match

                var CheckTitle = localDB.getItem(GetUserSession) //line 443 Referrence
                var data = JSON.parse(CheckTitle)
                viewFormList.innerHTML = "";
                for(var i in data.TodoList){
                    if(Title_Match === data.TodoList[i][0].title){
                        for(var x = 1; x < data.TodoList[i].length; x++){
                            viewFormList.appendChild(CreateElementLI(data.TodoList[i][x]))
                        }
                    }
                }
            })

            //---------VIEW LIST END-----------//



















































            //----------DELETE LIST START-------//

            let getDeleteBtn = document.getElementById("delete-list")
            let getInputToDelete = document.getElementById("TitleToDelete")
            let getProceedDelete = document.getElementById("Proceed-delete");

            getDeleteBtn.addEventListener("click",()=>{
                getInputToDelete.classList.remove("display-none");
            });
            
            getInputToDelete.addEventListener("keyup",()=>{
                var CheckTitle = localDB.getItem(GetUserSession) // line 443 Referrence
                var data = JSON.parse(CheckTitle)

                var titleID = []
                for(var i in data.TodoList){
                    titleID.push(data.TodoList[i][0].title)
                    if(titleID.includes(getInputToDelete.value)){
                        getProceedDelete.classList.remove("display-none");
                    }else{
                        getProceedDelete.classList.add("display-none");
                    }
                }
            })

            getProceedDelete.addEventListener("click",()=>{
                var CheckTitle = localDB.getItem(GetUserSession)
                var data = JSON.parse(CheckTitle);

                for(var x in data.TodoList){
                    if(getInputToDelete.value === data.TodoList[x][0].title){
                        console.log(data.TodoList[x][0].title)
                        data.TodoList.pop(data.TodoList[x])
                    }
                }
                console.log(data.TodoList);
                localDB.setItem(GetUserSession,JSON.stringify(data))
                location.reload();
            })


            //----------DELETE LIST END-------//


































































            let AddMoreList = document.getElementById("add-more");
            var EditAccountForm = document.getElementById("Account-Settings");

            AddMoreList.addEventListener("click",CreateMore)
            function CreateMore () {
                ViewListForm.classList.add("display-none");
                clickEditAccount = 1
                CreateTodoListForm();
            }


                if(sessionDB.hasOwnProperty("user")){
                    LogInForm.classList.add("display-none")
                    SingInForm.classList.add("display-none")
                    Intro.classList.add("display-none");
                    dashboard.classList.remove("display-none");
                    LoginButton.classList.add("display-none");
                    SignInButton.classList.add("display-none");
                    BackButton.classList.add("display-none");
                    if(LogedInUser.TodoList.length === 0){
                        getCreateList.classList.add("display-none")
                    }else{
                        ViewList();
                    }
                }
       
                EditAccountForm.classList.add("display-none");

                var TodoListLink = document.getElementById("ToDoList-Link");
                TodoListLink.addEventListener("click",ToDoPage)   

                function ToDoPage () {
                    //doyskie
                    EditAccountForm.classList.add("display-none");
                    ViewListForm.classList.remove("display-none")
                    getCreateList.classList.add("display-none")
                    location.reload();
                }

                var UpdateFirstName = document.querySelector("#Account-Settings > div:nth-child(1) > input");
                var UpdateLastName = document.querySelector("#Account-Settings > div:nth-child(2) > input");
                var UpdateEmail = document.querySelector("#Account-Settings > div:nth-child(3) > input");
                var UpdatePassword = document.querySelector("#Account-Settings > div:nth-child(4) > input");

                var AccountSettingsLink = document.getElementById("AccountSettings-Link");
                AccountSettingsLink.addEventListener("click",UpdateAccount)      
                
                function UpdateAccount () {
                    UpdateFirstName.value = LogedInUser.FirstName
                    UpdateLastName.value = LogedInUser.LastName
                    UpdateEmail.value = LogedInUser.Email
                    UpdatePassword.value = LogedInUser.Password

                    EditAccountForm.classList.remove("display-none");
                    ViewListForm.classList.add("display-none")
                    NoList.classList.add("display-none")
                    getCreateList.classList.add("display-none")
                }

                var UpdateBTN = document.getElementById("update-btn");
                UpdateBTN.addEventListener("click",SubmitUpdateAccount)

                function SubmitUpdateAccount () {
                        let Data = {
                        "FirstName":UpdateFirstName.value,
                        "LastName":UpdateLastName.value,
                        "Email":UpdateEmail.value,
                        "Password":UpdatePassword.value,
                        "Terms":LogedInUser.Terms,
                        "TodoList": LogedInUser.TodoList
                    }
                    localDB.setItem(GetUserSession,JSON.stringify(Data)) //line 443 referrence data
                    sessionDB.setItem("user",Data.Email)
                }

    </script>
</html>